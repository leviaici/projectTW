<!DOCTYPE html>
<html  lang="ro">
    <head>
        <meta name = "keywords" content = "magazin,fotografii,fotografie,poze,imagini,imagine,vanzare,apusuri,rasarituri,peisaje,portrete,stoc,camera,Canon,Tamron,Godox">
        <meta name = "description" content = "Magazin online de fotografii digitale">
        <link rel = "stylesheet" href = "../resurse/css/customizare_bootstrap.css" type = "text/css"/>
        <link rel = "stylesheet" href = "../resurse/css/general.css">
        <link rel = "stylesheet" href = "../resurse/css/general1000.css" type = "text/css" media = "screen and (max-width:1000px)">
        <link rel = "stylesheet" href = "../resurse/css/general700.css" type = "text/css" media = "screen and (max-width:700px)">
        <link rel = "stylesheet" href = "../resurse/css/galerie-statica-js.css" type = "text/css">
        <link rel = "stylesheet" href = "../resurse/css/galerie-statica-500.css" type = "text/css" media = "screen and (max-width:700px)">
        <link rel = "stylesheet" href = "../resurse/css/galerie-statica-1000.css" type = "text/css" media = "screen and (max-width:1000px)">
        <link rel = "stylesheet" href = "../resurse/css/tabel.css" type = "text/css" >
        <link rel = "stylesheet" href = "../resurse/css/nav.css">
        <link rel = "stylesheet" href = "../resurse/css/navmic2.css" media = "screen and (max-width:700px)">
        <link rel = "stylesheet" href = "../resurse/css/triunghi.css" type = "text/css" >
        <link rel = "stylesheet" href = "../resurse/css/print.css" type = "text/css" >
        <link rel="stylesheet" href="../resurse/css/produse.css" type="text/css" />
        <title>Levi's shop</title>
        <%- include("../fragmente/head") %>
        <script type="text/javascript" src=/resurse/js/produse.js></script>
        <script src=/resurse/js/tema.js></script>

    </head>
    <body>
    <%- include("../fragmente/header") %>

    <main>
        <label> Nume: <input type="text" id="inp-nume"></label><br><br>
        <div> Subiecte:<!-- trebuie sa aiba acelasi name ca sa formeze un grup -->
            <p><label>Putine subiecte (subiecte &lt; 2)
                <input id="i_rad1"  name="gr_rad" value="0:2" type="radio"/>
            </label></p>
            <p><label>Incarcata (2 &le; subiecte &lt; 5)
                <input id="i_rad2"  name="gr_rad" value="2:5" type="radio"/>
            </label>
            <p><label>Foarte incarcata (5 &le; subiecte)
                <input id="i_rad3" name="gr_rad" value="5:1000000000" type="radio"/>
            </label>
            <p><label>Toate
                <input id="i_rad4" checked name="gr_rad" value="toate" type="radio"/>
            </label>
        </div>
        <label> Pret minim: <input type="range" id="inp-pret" value="0" min="0"  max="70"> <span id="infoRange">(0)</span></label><br><br>
        <script>
            var rangeInput = document.getElementById("inp-pret");
            var infoRange = document.getElementById("infoRange");
          
            rangeInput.addEventListener("input", function() {
                infoRange.textContent = "(" + rangeInput.min + " - " + rangeInput.max + ")";
            });
        </script>
        <label for="inp-categorie">Categorie simpla:</label>
        <input list="inp-categorielist" id="inp-categorie" name="inp-categorie" value="toate"><br><br>
        <datalist id="inp-categorielist">
            <% for (let opt of locals.optiuni) { %>
                <option value="<%- opt.unnest %>"><%- opt.unnest %> </option>
            <% } %>
        </datalist>
        <label for="inp-categoriem">Categorie multipla:</label>
        <button class="btn btn-primary" id="btn-inp-categoriem">Arata</button>
        <select list="inp-categorielistm" id="inp-categoriem" name="inp-categoriem" value="toate" multiple>
            <option value="toate">toate</option>
            <% for (let opt of locals.optiuni) { %>
                <option value="<%- opt.unnest %>"><%- opt.unnest %> </option>
            <% } %>
        </select><br><br>
        <label>Family friendly:
            <select id="inp-sfw">
                <option id="sel-toate" selected value="toate">toate</option>
                <option value="true">da</option>
                <option value="false">nu</option>
            </select>
        </label><br><br>
        <p>
        <button class="btn btn-primary" id="filtrare">Filtreaza</button> 
        <button class="btn btn-primary" id="resetare">Reseteaza</button><br/><br>
        <button class="btn btn-primary" id="sortCrescNume">Sorteaza crescator dupa pret si nume</button>
        <button class="btn btn-primary" id="sortDescrescNume">Sorteaza descrescator dupa pret si nume</button>
        </p>
        <!-- <p id="p-suma">Apăsați Alt+"c" pentru Suma preturilor produselor afișate. </p> -->
        <br><button class="btn btn-primary" id="sumaproduselor">Suma preturilor produselor afișate.</button><br><br>
        <section id="produse">
            <h2>Produse</h2>
            <div class="grid-produse">
                <% for( let prod of locals.produse) { %>
                    <article class="produs" >
                        <h3 class="ceva"><%-prod.id %>. Nume: <a href="/produs/<%-prod.id %>" ><span class="val-nume"><%- prod.nume%></span></a></h3><br>
                        <div class="info-prod">
                            <p class="pret">Pret: <span class="val-pret"><%- prod.pret%></span></p>
                            <p></p>
                            <p class="grid-produse">Categorie: <span class="val-categorie"><%- prod.categorie%></span></p>
                        </div>
                        <div class="info-prod">
                            <p class="subiecte">Subiecte: <span class="val-subiecte"><%- prod.subiecte%></span></p>
                            <p></p>
                            <p class="pret">Descriere: <span class="val-descriere"><%- prod.descriere%></span></p>
                        </div>
                        <div class="info-prod"><p class="distantafocala">Distanta focala: <span class="val-distantafocala"><%- prod.distanta_focala%>mm</span></p></div>
                        <div class="info-prod"><p><time class="data-creare" datetime="<%- prod.data_creare%>">Data creare: </time></p></div>
                        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                        <script>
                            $(document).ready(function() {
                              $(".data-creare").each(function() {
                                var dataCreareElement = $(this);
                                var dataCreareValue = dataCreareElement.attr("datetime");
                          
                                if (dataCreareElement.text().trim().startsWith("Data creare:")) {
                                  var dataCreare = new Date(dataCreareValue);
                                  var options = { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' };
                                  var formattedDataCreare = dataCreare.toLocaleDateString('ro-RO', options);
                          
                                  dataCreareElement.text("Data creare: " + formattedDataCreare);
                                }
                              });
                            });
                        </script>
                        <div class="info-prod"><p class="categorie">Family friendly: <span class="val-sfw"><%- prod.family_friendly%></span></p></div>
                        <figure>
                            <a href="/produs/<%-prod.id %>" ><img src="/resurse/imagini/produse/<%- prod.imagine %>" style="width:50%;height:auto;" alt="[imagine <%- prod.nume %>]" /></a>
                        </figure>
                        <label class="btn btn-primary">
                            Selectează:<br/>
                            <input type="checkbox" class="select-cos" value="<%-prod.id %>" autocomplete="off">
                        </label>
                    </article>
                <% }%>
            </div>
        </section>
    </main>

    <%- include("../fragmente/footer") %>
    </body>
</html>